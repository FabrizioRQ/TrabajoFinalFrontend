<!-- forgot-password-component.html -->
<div class="container">
  <div class="logo">
    <img
      src="https://cdn-icons-png.flaticon.com/512/616/616408.png"
      alt="Monstruo"
    />
    <span>Monstruos Amigos</span>
  </div>

  <h2>Recuperaci贸n de contrase帽a</h2>

  <form [formGroup]="recoverForm" (ngSubmit)="enviarDatos()">
    <label for="email">Correo electr贸nico</label>
    <input
      type="email"
      id="email"
      placeholder="juanperez@email.com"
      formControlName="email"
      required
      [disabled]="loading"
    />

    <button
      type="submit"
      [disabled]="recoverForm.invalid || loading"
      class="submit-btn"
    >
      {{ loading ? 'Enviando...' : 'Enviar' }}
    </button>
  </form>

  <!-- Mensajes de estado -->
  <div *ngIf="mensaje" class="mensaje" [class.success]="tipoMensaje === 'success'" [class.error]="tipoMensaje === 'error'">
    {{ mensaje }}
  </div>

  <!-- Panel de simulaci贸n (solo desarrollo) -->
  <div *ngIf="datosRecuperacion" class="simulacion-panel">
    <h3> Simulaci贸n de Email (Solo Desarrollo)</h3>
    <div class="simulacion-content">
      <p><strong>Para:</strong> {{ recoverForm.get('email')?.value }}</p>
      <p><strong>Enlace de recuperaci贸n:</strong></p>
      <div class="enlace-container">
        <code>{{ datosRecuperacion.enlace_recuperacion }}</code>
        <button
          type="button"
          (click)="copiarEnlace()"
          class="btn-copiar"
        >
           Copiar
        </button>
      </div>
      <p class="instrucciones">
        {{ datosRecuperacion.instrucciones }}
      </p>
    </div>
  </div>
</div>
