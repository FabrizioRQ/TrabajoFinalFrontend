<header class="header">
  <div class="header-container">
    <div class="brand">
      <svg viewBox="0 0 24 24" width="32" height="32" stroke="#2D7FF9" fill="none" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M9 10h.01M15 10h.01M8 14c1.2 1 2.4 1.5 4 1.5s2.8-.5 4-1.5"/>
      </svg>
      <h1>Monstruos Amigos</h1>
    </div>
  </div>
</header>

<main class="main">
  <h2>Mis Pagos Recientes</h2>

  <!-- Estado de carga -->
  <div *ngIf="cargando" class="cargando">
    <p>Cargando pagos...</p>
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error && !cargando" class="error">
    <p>{{ error }}</p>
    <button class="btn btn-reintentar" (click)="cargarPagosDelUsuario()">
      Reintentar
    </button>
  </div>

  <!-- Resultados -->
  <section class="card" *ngIf="!cargando && !error">
    <table class="table" *ngIf="pagos.length > 0; else sinPagos">
      <thead>
      <tr>
        <th>Monto</th>
        <th>Fecha</th>
        <th>MÃ©todo de Pago</th>
        <th>Estado</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pago of pagos">
        <td>S/. {{ pago.monto }}.99</td>
        <td>{{ formatearFecha(pago.fechaPago) }}</td>
        <td>{{ pago.metodoPago }}</td>
        <td>
            <span [class]="'estado-' + pago.estado.toLowerCase()">
              {{ traducirEstado(pago.estado) }}
            </span>
        </td>
      </tr>
      </tbody>
    </table>

    <ng-template #sinPagos>
      <div class="sin-pagos">
        <p>No se encontraron pagos registrados.</p>
      </div>
    </ng-template>
  </section>
</main>
