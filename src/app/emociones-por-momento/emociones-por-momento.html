<!-- emociones-por-momento.html -->
<section class="emotion-moment container card">
  <!-- Encabezado de la secci√≥n con t√≠tulo y subt√≠tulo -->
  <header class="section-header">
    <h2>{{ title }}</h2>
    <p class="lead">{{ subtitle }}</p>
  </header>

  <!-- Estado de carga -->
  <div *ngIf="cargando" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando historial emocional...</p>
  </div>

  <!-- Estado de error -->
  <div *ngIf="error && !cargando" class="error-state">
    <p>‚ö†Ô∏è {{ error }}</p>
    <button class="btn btn-primary" (click)="cargarEmociones()">Reintentar</button>
  </div>

  <!-- Tabla de emociones -->
  <div *ngIf="!cargando && !error" class="table-wrapper">
    <table class="emotion-table">
      <thead>
      <tr>
        <th>Fecha</th>
        <th>Emoci√≥n Registrada</th>
        <th>Estado Emocional</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let emocion of emociones" class="emotion-row">
        <td class="fecha">{{ formatearFecha(emocion.fecha) }}</td>
        <td class="emocion-texto">{{ emocion.emocionRegistrada }}</td>
        <td class="mood-cell">
            <span class="mood" [class]="getClaseEmocion(emocion.emocionRegistrada)">
              <span class="mood-icon">{{ getIconoEmocion(emocion.emocionRegistrada) }}</span>
              <span class="mood-text">{{ emocion.emocionRegistrada }}</span>
            </span>
        </td>
      </tr>
      </tbody>
    </table>


    <div *ngIf="emociones.length === 0" class="empty-state">
      <p>üìù A√∫n no has registrado emociones en tu diario.</p>
      <p>Comienza a registrar tus emociones para ver tu historial aqu√≠.</p>
    </div>
  </div>
</section>
